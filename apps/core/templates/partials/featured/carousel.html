{% load news_tags %}
{% if carousel_news %}
<!-- Carousel::begin -->
<div id="main-carousel" class="carousel slide mb-6" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#main-carousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#main-carousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#main-carousel" data-bs-slide-to="2" aria-label="Slide 3"></button>        
    </div>
    <div class="carousel-inner">
        {% for news in carousel_news %}         
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="featured-post-7 margin-bottom-in-small border-bottom-in-small">
                <a href="{% url 'read_news' news.id %}" title="{{ news.title }}">
                    <div class="featured-post-container">
                        <div class="featured-post-img">
                            {% category_badge news.get_category_name_display news.category_color %}
                            <picture>
                                <img src="{{ news.image.url }}" alt="{{ news.title }}">
                            </picture>
                        </div>
                        <div class="featured-post-text featured-post-text-in read-more">
                            <h2 class="mb-2 mb-lg-4">{{ news.title }}</h2>
                            <p>{% read_more news.abstract 100 %}</p>
                            <span class="secondary-text ">{{ news.created_at|timesince }}</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#main-carousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#main-carousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<!-- Carousel::end -->
 {% endif %}